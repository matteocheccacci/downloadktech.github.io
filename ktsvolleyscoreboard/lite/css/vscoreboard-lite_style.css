* { box-sizing: border-box; }
        body { background-color: #0f2027; color: white; font-family: 'Oswald', sans-serif; display: flex; flex-direction: column; height: 100vh; margin: 0; overflow: hidden; background-size: cover; background-position: center; transition: background-image 0.5s; }
        .header { display: grid; grid-template-columns: 13vw 1fr 13vw; height: 14vh; align-items: center; padding: 0 1vw; background: linear-gradient(to bottom, rgba(0,0,0,0.95), transparent); z-index: 10; flex-shrink: 0; }
        
        /* MODIFICA: Logo competizione spostato in alto (align-items: flex-start) */
        .logo-box { justify-self: start; height: 100%; display: flex; align-items: flex-start; padding-top: 1vh; transform: translateX(-10px); } 
        .logo-box img { max-height: 85%; max-width: 100%; }
        
        /* MODIFICA: Titolo spostato decisamente in alto (-3vh) */
        .title-box { justify-self: center; text-align: center; width: 100%; overflow: hidden; white-space: nowrap; transform: translateY(-3vh); } 
        
        .main-title { display: inline-block; font-size: 8vh; font-weight: 700; line-height: 1; text-transform: uppercase; text-shadow: 0 4px 15px rgba(0,0,0,0.9); margin: 0 auto; will-change: transform; letter-spacing: 2px; }
        .main-title.scrolling { animation: ticker linear infinite; padding-left: 100%; margin-right: 50px; }
        @keyframes ticker { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-100%, 0, 0); } }
        .clock-box { justify-self: end; font-size: 6vh; font-family: monospace; font-weight: bold; text-shadow: 2px 2px 0 #000; color: #ccc; }
        .main-area { display: flex; flex: 1; width: 100%; overflow: hidden; position: relative; padding: 4vh 3vw 3vh 3vw; }
        .board { flex: 1; display: flex; gap: 4vw; align-items: stretch; width: 100%; justify-content: center; }
        .card { flex: 1 1 0; min-width: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(20px); border: 3px solid rgba(255,255,255,0.1); border-radius: 30px; display: flex; flex-direction: row; align-items: stretch; justify-content: space-between; position: relative; transition: all 0.3s; box-shadow: 0 15px 40px rgba(0,0,0,0.6); padding: 1vh 0; }
        .card.serving { border-color: #f1c40f; box-shadow: 0 0 80px rgba(241, 196, 15, 0.3) inset, 0 0 40px rgba(241, 196, 15, 0.5); background: rgba(255,255,255,0.08); }
        .srv-banner { display: none; position: absolute; top: 0; left: 50%; transform: translate(-50%, -50%); background: #f1c40f; color: #000; font-size: 4vh; font-weight: 900; align-items: center; justify-content: center; height: 6vh; padding: 0 4vw; border-radius: 50px; text-transform: uppercase; letter-spacing: 2px; box-shadow: 0 0 25px #f1c40f; z-index: 20; white-space: nowrap; animation: pulse-srv 1.5s infinite; }
        .card.serving .srv-banner { display: flex; } 
        @keyframes pulse-srv { 0% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.05); } 100% { transform: translate(-50%, -50%) scale(1); } }
        .card-side { width: 7vw; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 1vh 0; background: rgba(0,0,0,0.2); border-radius: 20px; margin: 1vh 0.5vw; }
        .meta-label { font-size: 4vh; color: #ffffff; font-weight: bold; writing-mode: vertical-rl; text-orientation: mixed; transform: rotate(180deg); margin-bottom: 2vh; letter-spacing: 2px; text-align: center; }
        .card-center { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding: 0 1vw; overflow: hidden; min-width: 0; }
        /* MODIFICA 1: Aumentato margin-top per evitare sovrapposizione con banner servizio */
        .team-bar { width: 100%; height: 0.8vh; border-radius: 1vh; box-shadow: 0 0 20px currentColor; margin-top: 5.5vh; margin-bottom: 2vh; opacity: 0.8; flex-shrink: 0; }
        .team-logo { height: 12vh; width: 100%; object-fit: contain; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.8)); margin-bottom: 1vh; flex-shrink: 1; min-height: 0; }
        .team-name { font-size: 8vh; font-weight: 700; text-transform: uppercase; margin: 0; line-height: 0.95; text-align: center; text-shadow: 3px 3px 0 rgba(0,0,0,0.8); width: 100%; padding-bottom: 0.5vh; display: block; white-space: normal; overflow: hidden; word-wrap: break-word; }
        .score-wrap { flex-grow: 1; display: flex; align-items: center; justify-content: center; width: 100%; position: relative; }
        .score { font-size: 35vh; font-weight: 700; line-height: 0.8; text-shadow: 0 10px 50px rgba(0,0,0,0.9); font-family: 'Roboto', sans-serif; letter-spacing: -15px; z-index: 1; }
        .sets-lbl { font-size: 6vh; font-weight: 800; color: #f1c40f; text-align: center; text-transform: uppercase; margin-bottom: 2vh; text-shadow: 3px 3px 0 #000; background: rgba(0,0,0,0.6); padding: 5px 40px; border-radius: 15px; border: 2px solid #555; flex-shrink: 0; }
        .dots-container { display: flex; flex-direction: column; gap: 1.5vh; align-items: center; justify-content: center; }
        .dot { border-radius: 50%; background: #333; box-shadow: inset 0 2px 5px rgba(0,0,0,0.8); transition: all 0.3s; border: 2px solid #555; }
        .dot.to { width: 4.5vh; height: 4.5vh; }
        .dot.to.active { background: #e74c3c; border-color: #ff7675; box-shadow: 0 0 15px #e74c3c; }
        .dot.sub { width: 3.5vh; height: 3.5vh; }
        .dot.sub.active { background: #f1c40f; border-color: #ffeaa7; box-shadow: 0 0 10px #f1c40f; }
        .dot.vc { width: 3.5vh; height: 3.5vh; }
        .dot.vc.active { background: #3498db; border-color: #85c1e9; box-shadow: 0 0 10px #3498db; }

        /* OVERLAYS & Z-INDEX HIERARCHY */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; display: flex; opacity: 0; pointer-events: none; transition: 0.3s; }
        .overlay.active { opacity: 1; pointer-events: all; }
        
        #ov-info.active { z-index: 200000 !important; } 
        
        .ov-grid { display: grid; grid-template-columns: 1.5fr 1fr; width: 100%; height: 100%; transition: all 0.5s; }
        /* MODIFICA 3: Layout specifico per start match per dare spazio agli sponsor */
        #grid_st { grid-template-columns: 0.8fr 1.2fr; }
        
        .ov-grid.centered { grid-template-columns: 1fr; }
        .ov-grid.centered .ov-right { display: none; }
        .ov-grid.centered .ov-left { border-right: none; }
        .ov-left { display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2vw; border-right: 2px solid #333; }
        .ov-right { display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 2vw; background: rgba(0,0,0,0.5); overflow: hidden; gap: 2vh; }
        .ov-sponsor-img { max-width: 100%; max-height: 28vh; object-fit: contain; box-shadow: 0 0 30px rgba(255,255,255,0.1); animation: fadein 0.5s; display: block; }
        @keyframes fadein { from { opacity: 0; } to { opacity: 1; } }
        .ov-timer { font-size: 25vh; font-weight: bold; font-family: monospace; color: #fff; margin: 0; text-shadow: 0 0 30px rgba(255,255,255,0.3); line-height: 1; }
        .ov-title { font-size: 10vh; color: #f1c40f; text-transform: uppercase; letter-spacing: 5px; font-weight: bold; margin-bottom: 2vh; text-align: center; }
        .to-stats { display: flex; gap: 60px; margin-top: 5vh; width: 100%; justify-content: center; }
        .to-box { background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px; text-align: center; min-width: 250px; border: 2px solid #444; }
        .to-box div:first-child { font-size: 3.5vh; color: #ccc; margin-bottom: 15px; font-weight: bold; }
        .to-val { font-size: 8vh; font-weight: bold; color: #f1c40f; line-height: 1; }
        .int-table { border-collapse: collapse; font-size: 4vh; color: #eee; margin-top: 4vh; width: 90%; }
        .int-table td, .int-table th { padding: 15px 30px; border-bottom: 2px solid #444; text-align: center; }
        .int-table th { color: #f1c40f; font-size: 5vh; }
        .winner-table { border-collapse: collapse; font-size: 4vh; color: #eee; margin-top: 4vh; width: 80%; border: 2px solid #555; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .winner-table td, .winner-table th { padding: 15px 30px; border: 1px solid #444; text-align: center; }
        .winner-table th { background: #222; color: #f1c40f; font-size: 5vh; }
        .winner-table tr:last-child td { border-bottom: none; }
        /* MODIFICA 3: Ridotto padding per risparmiare spazio */
        .start-box { border: 4px solid #f1c40f; padding: 2vh 2vw; border-radius: 50px; text-align: center; box-shadow: 0 0 100px rgba(241,196,15,0.3); background: #000; }
        .srv-msg { font-size: 4vh; margin-top: 2vh; color: #aaa; }
        .srv-team-hl { color: #f1c40f; font-weight: bold; font-size: 6vh; text-transform: uppercase; }
        #ov-swap, #ov-winner { background: rgba(0,0,0,0.95); z-index: 1100; justify-content: center; align-items: center; display: flex; }
        .swap-msg { font-size: 10vh; border: 10px solid #fff; padding: 40px 100px; border-radius: 50px; color: #f1c40f; background: #000; animation: pulse 0.8s infinite alternate; text-transform: uppercase; font-weight: bold; box-shadow: 0 0 50px #f1c40f; }
        .winner-msg { font-size: 12vh; border: 10px solid #f1c40f; padding: 50px 100px; border-radius: 50px; color: #fff; background: #000; text-transform: uppercase; font-weight: bold; box-shadow: 0 0 80px #f1c40f; text-align: center; animation: pulse 1s infinite alternate; }
        .winner-sub { font-size: 6vh; color: #f1c40f; display: block; margin-top: 20px; }
        @keyframes pulse { from { transform: scale(1); } to { transform: scale(1.05); } }
        .info-box { position: relative; text-align: center; border: 4px solid #f1c40f; padding: 40px 60px; border-radius: 25px; background: rgba(10, 10, 10, 0.98); min-width: 650px; align-self: center; margin: auto; box-shadow: 0 0 100px rgba(241,196,15,0.2); }
        .info-lbl { color: #ccc; font-size: 2.5vh; margin-bottom: 5px; letter-spacing: 2px; text-transform: uppercase; }
        .info-val-container { display: flex; flex-direction: column; align-items: center; margin-bottom: 30px; }
        .info-val-row { display: flex; align-items: center; justify-content: center; width: 100%; }
        /* IP FIX: Rimosso max-width restrittivo, aggiunto max-width relativo per evitare taglio */
        .info-val { color: #fff; font-size: 4.5vh; font-weight: bold; font-family: 'Roboto', monospace; display: inline-block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 90vw; }
        .info-pass { border: 3px dashed #f1c40f; padding: 10px 20px; color: #f1c40f; display: inline-block; font-size: 4vh; border-radius: 10px; font-family: 'Roboto', monospace; letter-spacing: 5px; }
        .pass-toggle-btn, .pass-window-btn, .pswd-copy-btn { background: #333; color: white; border: 1px solid #555; padding: 10px 15px; margin-left: 10px; cursor: pointer; border-radius: 8px; font-size: 2vh; transition: background 0.3s; line-height: 1; white-space: nowrap; }
        .pass-toggle-btn:hover, .pass-window-btn:hover, .pswd-copy-btn:hover { background: #f1c40f; color: #000; border-color: #f1c40f; }
        .btn-local { background: #333; color: white; border: 1px solid #555; padding: 15px 30px; margin-top: 30px; cursor: pointer; text-transform: uppercase; font-weight: bold; border-radius: 8px; font-size: 2vh; transition: background 0.3s; }
        .btn-local:hover { background: #555; }
        
        /* USER PROFILE AREA STYLE - POSIZIONATA FUORI DAL BOX */
        .user-profile-header {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0,0,0,0.6); /* Sfondo scuro per contrasto */
            padding: 8px 15px;
            border-radius: 30px;
            border: 1px solid #444;
            z-index: 200001; /* Sopra a tutto */
            backdrop-filter: blur(10px);
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f1c40f;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
            font-size: 1.5vh;
            overflow: hidden;
            background-size: cover;
            background-position: center;
        }
        .user-info-text {
            text-align: left;
        }
        .user-welcome { font-size: 1.2vh; color: #aaa; text-transform: uppercase; }
        .user-name { font-size: 2vh; font-weight: bold; color: #fff; }
        .btn-login-small {
            background: #f1c40f; color: #000; border: none; padding: 5px 15px; border-radius: 20px; font-weight: bold; cursor: pointer;
        }
        .btn-logout-small {
            background: transparent; color: #e74c3c; border: 1px solid #e74c3c; padding: 5px 10px; border-radius: 20px; font-size: 1.2vh; cursor: pointer; margin-left: 10px;
        }
        .btn-logout-small:hover { background: #e74c3c; color: #fff; }

        .copy-success { position: absolute; bottom: 20px; right: 20px; background: #f1c40f; color: #000; padding: 10px 20px; border-radius: 5px; font-weight: bold; box-shadow: 0 0 10px rgba(0,0,0,0.5); opacity: 0; transition: opacity 0.5s; }

        #live-channel-layer { position: fixed; inset: 0; z-index: 99999; background: #000; display: none; flex-direction: column; }
        #live-channel-layer.active { display: flex; }
        .lc-header { height: 80px; background: rgba(0,0,0,0.8); display: flex; align-items: center; padding-left: 40px; border-bottom: 2px solid #f1c40f; }
        .lc-title { font-size: 40px; color: #f1c40f; font-weight: bold; text-transform: uppercase; font-family: 'Oswald', sans-serif; }
        .lc-body { flex: 1; display: flex; padding: 20px; box-sizing: border-box; }
        .lc-vid-box { flex: 1; background: #000; position: relative; border: 2px solid #333; }
        .lc-vid-iframe { width: 100%; height: 100%; border: none; }
        .lc-sidebar { width: 200px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px; margin-left: 20px; }
        .lc-logo-img { max-width: 100%; max-height: 150px; object-fit: contain; filter: drop-shadow(0 0 10px rgba(0,0,0,0.8)); }

/* ------------------------------
   KTS Volley Scoreboard Lite
   ------------------------------ */

:root{
  --lite-accent:#f1c40f;
  --lite-bg: rgba(0,0,0,0.55);
}

#comp_logo{ display:none !important; }
.logo-box{ display:flex; align-items:center; justify-content:center; }
.logo-box::after{
  content:"LITE";
  font-weight:900;
  font-size:4vh;
  letter-spacing:2px;
  color:var(--lite-accent);
  text-shadow: 0 3px 12px rgba(0,0,0,0.9);
  opacity:0.85;
}

#lite-wizard.overlay{ background: rgba(0,0,0,0.94); }
.lite-wiz-card{
  width:min(1000px, 92vw);
  max-height: 88vh;
  overflow:auto;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 24px;
  backdrop-filter: blur(18px);
  padding: 22px;
  box-shadow: 0 20px 80px rgba(0,0,0,0.6);
}
.lite-wiz-title{
  font-size: 4.2vh;
  font-weight: 900;
  color: var(--lite-accent);
  text-transform: uppercase;
  letter-spacing: 2px;
  margin: 0 0 14px 0;
}
.lite-wiz-sub{
  color:#ccc;
  font-size: 1.8vh;
  margin-bottom: 18px;
}
.lite-form-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.lite-row{
  display:flex;
  flex-direction:column;
  gap: 6px;
}
.lite-row label{
  font-size: 1.5vh;
  color:#bbb;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.lite-row input, .lite-row select{
  width:100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(0,0,0,0.35);
  color:#fff;
  outline:none;
  font-size: 16px;
}
.lite-actions{
  display:flex;
  justify-content:flex-end;
  gap: 10px;
  margin-top: 16px;
  flex-wrap:wrap;
}
.lite-btn{
  border:none;
  border-radius: 16px;
  padding: 12px 16px;
  font-weight: 900;
  cursor:pointer;
  letter-spacing: .5px;
}
.lite-btn.primary{ background: var(--lite-accent); color:#111; }
.lite-btn.ghost{ background: rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.14); }
.lite-btn.danger{ background: #e74c3c; color:#fff; }
.lite-btn:disabled{ opacity:.5; cursor:not-allowed; }

.lite-help-btn{
  position: fixed;
  top: 1.2vh;
  right: 1.2vw;
  z-index: 500000;
  background: rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.15);
  color:#fff;
  border-radius: 16px;
  padding: 10px 12px;
  cursor:pointer;
  font-weight: 900;
  backdrop-filter: blur(12px);
}
.lite-help-panel{
  position: fixed;
  top: 7vh;
  right: 1.2vw;
  width: min(360px, 92vw);
  z-index: 500000;
  background: rgba(0,0,0,0.65);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 18px;
  padding: 14px;
  backdrop-filter: blur(14px);
  box-shadow: 0 12px 50px rgba(0,0,0,0.6);
}
.lite-help-panel.hidden{ display:none; }
.lite-help-panel.faded{ opacity: .25; }
.lite-help-title{ font-weight: 900; color: var(--lite-accent); letter-spacing: 1px; text-transform: uppercase; margin-bottom: 8px; }
.lite-help-list{ display:flex; flex-direction:column; gap: 8px; font-size: 14px; color:#ddd; }
.lite-help-item{ display:flex; justify-content:space-between; align-items:center; gap:10px; padding: 8px 10px; border-radius: 12px; background: rgba(255,255,255,0.06); cursor:pointer; }
.lite-help-item kbd{
  background:#111;
  border:1px solid rgba(255,255,255,0.2);
  border-bottom-width:2px;
  padding: 4px 8px;
  border-radius: 10px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-weight: 900;
  color:#fff;
}

.lite-controls{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 300000;
  padding: 10px 12px 12px 12px;
  background: linear-gradient(to top, rgba(0,0,0,0.85), rgba(0,0,0,0.25));
  backdrop-filter: blur(14px);
}
.lite-controls .row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:center;
}
.lite-pill{
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  color:#fff;
  border-radius: 999px;
  padding: 10px 12px;
  display:flex;
  align-items:center;
  gap: 8px;
}
.lite-pill b{ color: var(--lite-accent); }
.lite-controls button{
  border:none;
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 900;
  cursor:pointer;
  background: rgba(255,255,255,0.10);
  color:#fff;
  border: 1px solid rgba(255,255,255,0.14);
}
.lite-controls button.primary{ background: var(--lite-accent); color:#111; border-color: rgba(0,0,0,0.2); }
.lite-controls button.danger{ background: #e74c3c; color:#fff; border-color: rgba(0,0,0,0.2); }
.lite-controls button:active{ transform: scale(0.98); }

@media (max-width: 900px){
  .lite-form-grid{ grid-template-columns: 1fr; }
  .lite-controls{ padding-bottom: 18px; }
}
